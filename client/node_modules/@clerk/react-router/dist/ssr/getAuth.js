// src/ssr/getAuth.ts
import { stripPrivateDataFromObject } from "@clerk/backend/internal";
import { noLoaderArgsPassedInGetAuth } from "../utils/errors.js";
import { authenticateRequest } from "./authenticateRequest.js";
import { loadOptions } from "./loadOptions.js";
async function getAuth(args, opts) {
  if (!args || args && (!args.request || !args.context)) {
    throw new Error(noLoaderArgsPassedInGetAuth);
  }
  const loadedOptions = loadOptions(args, opts);
  const requestState = await authenticateRequest(args, loadedOptions);
  return stripPrivateDataFromObject(requestState.toAuth());
}
export {
  getAuth
};
//# sourceMappingURL=getAuth.js.map